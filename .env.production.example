# ============================================================================
# 生产环境配置模板
# 复制此文件到服务器 /opt/chicken-king/.env 并填入真实值
# ============================================================================

# MySQL 数据库
# MySQL root 密码
MYSQL_ROOT_PASSWORD=your_secure_root_password
# MySQL 数据库名
MYSQL_DATABASE=chicken_king
# MySQL 应用用户
MYSQL_USER=chicken
# MySQL 用户密码
MYSQL_PASSWORD=your_secure_password

# 应用密钥（用于 JWT 签名，请使用随机字符串）
SECRET_KEY=your_64_char_random_secret_key_here

# 限流与风控
# 限流存储地址
RATE_LIMIT_STORAGE_URI=redis://redis:6379/1
# 单用户每日上传总量上限（字节）
UPLOAD_DAILY_BYTES_LIMIT=3221225472
# 触发式挑战模式：off/monitor/enforce
SECURITY_CHALLENGE_MODE=off
# 挑战提供方：pow/js/captcha/behavior
SECURITY_CHALLENGE_PROVIDER=pow
# 触发阈值（窗口内请求数）
SECURITY_CHALLENGE_THRESHOLD=20
# 统计窗口（秒）
SECURITY_CHALLENGE_WINDOW_SECONDS=60
# 挑战有效期（秒）
SECURITY_CHALLENGE_TTL_SECONDS=300
# 通过后免验证时间（秒）
SECURITY_CHALLENGE_PASS_TTL_SECONDS=1800
# PoW 难度（十六进制前导 0 个数）
SECURITY_POW_DIFFICULTY=4
# 验证码校验地址（如 Turnstile/hCaptcha）
CAPTCHA_VERIFY_URL=
# 验证码服务密钥
CAPTCHA_SECRET_KEY=
# 验证码站点 key
CAPTCHA_SITE_KEY=
# 忘记密码重置链接有效期（分钟）
PASSWORD_RESET_TOKEN_TTL_MINUTES=30
# SMTP 服务器地址
SMTP_HOST=
# SMTP 端口
SMTP_PORT=587
# SMTP 账号
SMTP_USERNAME=
# SMTP 密码
SMTP_PASSWORD=
# 是否启用 STARTTLS
SMTP_USE_TLS=true
# 是否启用 SSL（如 465 端口）
SMTP_USE_SSL=false
# 发件人邮箱
SMTP_FROM_EMAIL=
# 发件人显示名（可选）
SMTP_FROM_NAME=
# 是否启用可信代理解析（TODO: CDN/WAF 接入后开启）
TRUSTED_PROXY_ENABLED=false
# 可信代理头（优先级顺序）
TRUSTED_PROXY_HEADERS=cf-connecting-ip,x-forwarded-for,x-real-ip

# 前端 URL
FRONTEND_URL=https://pk.ikuncode.cc

# 媒体文件存储目录（容器内路径）
MEDIA_ROOT=/app/app/uploads/media

# 作品访问域名后缀（生成 project-{submission_id}.your-domain.com）
PROJECT_DOMAIN_SUFFIX=your-domain.com
# 作品访问域名模板（默认即可）
PROJECT_DOMAIN_TEMPLATE=project-{submission_id}.{suffix}

# Linux.do OAuth
# Client ID
LINUX_DO_CLIENT_ID=your_client_id
# Client Secret
LINUX_DO_CLIENT_SECRET=your_client_secret
# 回调地址
LINUX_DO_REDIRECT_URI=https://pk.ikuncode.cc/api/v1/auth/linuxdo/callback

# GitHub OAuth
# Client ID
GITHUB_CLIENT_ID=your_github_client_id
# Client Secret
GITHUB_CLIENT_SECRET=your_github_client_secret
# 回调地址
GITHUB_REDIRECT_URI=https://pk.ikuncode.cc/api/v1/auth/github/callback

# 前端 API URL（生产环境使用相对路径）
VITE_API_URL=/api/v1

# Umami 统计
UMAMI_APP_SECRET=your_umami_secret
